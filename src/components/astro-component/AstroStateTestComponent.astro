---
const countNumber = 123;
---

<div class='flex flex-col space-y-4 p-10' id="frame">
	<div
		class='flex space-x-3 border p-4 border-gray-300 rounded-lg justify-center align-middle'
	>
		<h1 class='text-2xl font-bold text-slate-800'>
			Astro Nanostore State Test Component by server value : { countNumber }
		</h1>

	</div>
	<div
		class='flex space-x-3 border p-4 border-gray-300 rounded-lg justify-center align-middle'
	>
		<h1 class='text-2xl font-bold text-slate-800'>
			Astro Nanostore State Test Component
		</h1>
		<span id='counter'></span>
		<button
      id="plus"
			class='rounded-md bg-blue-600 py-2 px-4 border border-transparent text-center text-sm text-white transition-all shadow-md hover:shadow-lg focus:bg-blue-700 focus:shadow-none active:bg-blue-700 hover:bg-blue-700 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none ml-2'
			type='button'
		>
			Plus
		</button>
		<button
      id="minus"
			class='rounded-md bg-red-600 py-2 px-4 border border-transparent text-center text-sm text-white transition-all shadow-md hover:shadow-lg focus:bg-red-700 focus:shadow-none active:bg-red-700 hover:bg-red-700 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none ml-2'
			type='button'
		>
			Minus
		</button>
	</div>
</div>
<script define:vars={{countNumber}}>
	alert('Astro Nanostore State Test Component by server value : ' + countNumber);
</script>
<script>
	import { countNumber } from '@/store/counter';

	countNumber.subscribe((value) => {
		document.getElementById('counter').innerText = `nanostore number : ${value}`;
	})

	document.getElementById('plus').addEventListener('click', () => {
		countNumber.set(countNumber.get() + 1);
	});

	document.getElementById('minus').addEventListener('click', () => {
		countNumber.set(countNumber.get()- 1);
	});
</script>